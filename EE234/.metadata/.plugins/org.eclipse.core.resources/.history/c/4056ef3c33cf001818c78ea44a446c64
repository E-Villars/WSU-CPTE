/*
 * myfunctions.c
 *
 *  Created on: Oct 13, 2018
 *      Author: Sergaljerk
 */

#include "myfunctions.h"

void activateLEDS()
{
	uint32_t* ledBaseAddress = (uint32_t*)0x4BB00000;

	ledBaseAddress[0] = 0x0000000F; //enable the LEDs
	ledBaseAddress[1] = 0x0000000F; //Turn on the LEDs
}

void disableInterrupts()
{
	uint32_t bitsToEnable = 0xDF; // 1101_1111
	uint32_t readCPSR = 0;
	uint32_t clearByte = 0xFF;

	__asm__ __volatile__("MRS %0,CPSR\n" : "=r" (readCPSR));
	__asm__ __volatile__("MSR CPSR, %0\n" :: "r"((readCPSR & (~clearByte))|bitsToEnable));
}
